<div style="margin-left: 10%; margin-right: 10%; margin-top: 0%;">

    <h2>Notas</h2>
    <a mat-button href="agregar" matTooltip="Agregar nueva nota" aria-label="Button that displays a tooltip when focused or hovered over">
        <mat-icon>add_circle</mat-icon>
    </a>
    @if(estaCargando){
        <div style="text-align: center;">            
            <mat-spinner style="margin:0 auto; width: 25;" ></mat-spinner>
            <p>Cargando, un momento...</p>
        </div>
    }@else {
    <table mat-table [dataSource]="notas">
        <ng-container matColumnDef="nombre">
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let element">
                <button mat-button (click)="copiarEnPortapapeles(element.nombre)">
                    <mat-icon>content_copy</mat-icon>
                </button>
                {{element.nombre}}
            </td>
        </ng-container>

        <ng-container matColumnDef="tags">
            <th mat-header-cell *matHeaderCellDef> tags </th>
            <td mat-cell *matCellDef="let element"> {{element.tags}} </td>
        </ng-container>

        <ng-container matColumnDef="contenido">
            <th mat-header-cell *matHeaderCellDef> Contenido </th>
            <td mat-cell *matCellDef="let element">
                @if(element.estado == 'Url'){
                <a href="{{element.contenido}}" target="_blank">
                    <mat-icon>link</mat-icon>
                    {{element.contenido.substring(8,25)}}
                </a>
                }@else{

                <button mat-button (click)="copiarEnPortapapeles(element.contenido)">
                    <mat-icon>content_copy</mat-icon>
                </button>
                {{element.contenido.substring(0,25)}}
                }
            </td>
        </ng-container>

        <ng-container matColumnDef="estado">
            <th mat-header-cell *matHeaderCellDef> Estado </th>
            <td mat-cell *matCellDef="let element"> {{element.estado}} </td>
        </ng-container>

        <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef> Acciones </th>
            <td mat-cell *matCellDef="let element">
                <a mat-button href="editar/{{element.id}}">
                    <mat-icon>edit_note</mat-icon>
                </a>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
        <!-- <tbody>
            @for (item of notas; track $index) {
                <tr>
                    <td>{{item.nombre}}</td>
                    <td>{{item.contenido}}</td>
                    <td>{{item.tags}}</td>
                    <td>
                        <a href="editar/{{item.id}}">Editar</a>
                    </td>
                </tr>
                }
            </tbody> -->
    </table>
    }
</div>